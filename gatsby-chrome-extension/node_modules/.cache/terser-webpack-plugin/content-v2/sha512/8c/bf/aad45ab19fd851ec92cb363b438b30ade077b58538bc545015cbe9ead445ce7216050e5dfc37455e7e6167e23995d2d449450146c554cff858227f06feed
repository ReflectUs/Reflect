{"map":"{\"version\":3,\"sources\":[\"component---src-pages-background-page-js-c02d2dc5500d0c8db66b.js\"],\"names\":[\"window\",\"push\",\"2du7\",\"module\",\"exports\",\"__webpack_require__\",\"userID\",\"photoURL\",\"name\",\"websites\",\"email\",\"WebsiteItem\",\"url\",\"tabID\",\"oTime\",\"this\",\"website\",\"getWebsiteFromUrl\",\"totalTime\",\"printWebsites\",\"console\",\"log\",\"i\",\"length\",\"print\",\"updateWebsiteItem\",\"newTabID\",\"chrome\",\"tabs\",\"query\",\"active\",\"lastFocusedWindow\",\"temp\",\"Date\",\"alreadyExists\",\"isActive\",\"clearID\",\"equals\",\"setID\",\"prototype\",\"posStart\",\"indexOf\",\"offSetStart\",\"posEnd\",\"substring\",\"isID\",\"tabIDs\",\"time\",\"isWebsite\",\"currTime\",\"Math\",\"round\",\"firebase\",\"database\",\"ref\",\"set\",\"writeWebsiteData\",\"websiteItemOther\",\"runtime\",\"onInstalled\",\"addListener\",\"contextMenus\",\"create\",\"id\",\"title\",\"contexts\",\"onActivated\",\"tabDetails\",\"tabId\",\"onRemoved\",\"removeInfo\",\"onCreated\",\"tab\",\"onUpdated\",\"changeInfo\",\"initializeApp\",\"apiKey\",\"databaseURL\",\"storageBucket\",\"initApp\",\"auth\",\"onAuthStateChanged\",\"user\",\"displayName\",\"uid\",\"created_at\",\"metadata\",\"creationTime\",\"replace\",\"toLowerCase\",\"floor\",\"random\",\"once\",\"snapshot\",\"val\",\"update\",\"email_address\",\"username\",\"createUser\",\"onload\",\"k34F\",\"__webpack_exports__\",\"r\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_components_layout__WEBPACK_IMPORTED_MODULE_2__\",\"a\",\"createElement\",\"href\"],\"mappings\":\"CAACA,OAAqB,aAAIA,OAAqB,cAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5DC,OACA,SAAUC,EAAQC,EAASC,GAEjCA,EAAoB,QAAQ,IAAiCC,EAA2BC,EAAaC,EAArEC,EAAS,GAAOC,EAAM,GAA2X,SAASC,EAAYC,EAAIC,EAAMC,GAAOC,KAAKC,QAAQD,KAAKE,kBAAkBL,GAAKG,KAAKF,MAAMA,EAAME,KAAKD,MAAMA,EAAMC,KAAKG,UAAU,EAG9Y,SAASC,IAAgBC,QAAQC,IAAI,yBAAyBD,QAAQC,IAAI,IAAID,QAAQC,IAAI,yBAAyB,IAAI,IAAIC,EAAE,EAAEA,EAAEb,EAASc,OAAOD,IAAKb,EAASa,GAAGE,QAAU,SAASC,EAAkBC,GAAUC,OAAOC,KAAKC,MAAM,CAACC,QAAS,EAAKC,mBAAoB,IAAM,SAASH,GAAoG,IAA9F,IAAwBI,EAAK,IAAIrB,EAAzBiB,EAAK,GAAGhB,IAAiCc,EAAS,IAAIO,MAAYC,GAAc,EAAcZ,EAAE,EAAEA,EAAEb,EAASc,OAAOD,IAAQb,EAASa,GAAGa,YAAY1B,EAASa,GAAGc,QAAQ,IAAIH,MAC9mBxB,EAASa,GAAGe,OAAOL,KAAOvB,EAASa,GAAGgB,MAAMZ,EAAS,IAAIO,MAC7DC,GAAc,GAAWA,GAAezB,EAASR,KAAK+B,GAAOb,OAL6CR,EAAY4B,UAAUtB,kBAAkB,SAASL,GAAK,IAAI4B,EAAS5B,EAAI6B,QAAQ,QAAYC,EAAY,GAAgB,GAAXF,IAAcA,EAAS5B,EAAI6B,QAAQ,OAAOC,EAAY,GAAG,IAAIC,EAAO/B,EAAI6B,QAAQ,IAAID,EAASE,GAAiB1B,EAAQ,GAAoF,OAAnE,GAAXwB,IAAuB,GAATG,IAAY3B,EAAQJ,EAAIgC,UAAUJ,EAASE,EAAYC,IAAgB3B,GAA6IL,EAAY4B,UAAUM,KAAK,SAAShC,GAAO,OAAGE,KAAK+B,QAAQjC,GAAmCF,EAAY4B,UAAUD,MAAM,SAASzB,EAAMkC,GAAUlC,IAAoBE,KAAKF,MAAMA,EAAME,KAAKD,MAAMiC,IAAQpC,EAAY4B,UAAUS,UAAU,SAASpC,GAAK,OAAGG,KAAKC,SAASD,KAAKE,kBAAkBL,IAAwCD,EAAY4B,UAAUH,QAAQ,SAASa,GAAUlC,KAAKG,WAAWgC,KAAKC,OAAOF,EAASlC,KAAKD,OAAO,KAAQC,KAAKD,OAAO,EAAEC,KAAKF,OAAO,EAAmB,IAAdE,KAAKC,SAiB3gC,SAA0BV,EAAOU,EAAQ+B,GAAMK,SAASC,WAAWC,IAAI,UAAUhD,EAAO,gBAAgBU,GAASuC,IAAI,CAACR,KAAKA,IAjB65BS,CAAiBlD,EAAOS,KAAKC,QAAQD,KAAKG,YAAcP,EAAY4B,UAAUF,OAAO,SAASoB,GAAkB,OAAG1C,KAAKC,SAASyC,EAAiBzC,SAAqCL,EAAY4B,UAAUf,MAAM,WAAWJ,QAAQC,IAAIN,KAAKC,QAAQ,QAAQD,KAAKF,MAAM,OAAOE,KAAKG,YAAaP,EAAY4B,UAAUJ,SAAS,WAAW,OAAoB,GAAbpB,KAAKF,OAGj3Cc,OAAO+B,QAAQC,YAAYC,aAAY,WAAWjC,OAAOkC,aAAaC,OAAO,CAACC,GAAK,oBAAoBC,MAAQ,sBAAsBC,SAAW,CAAC,kBAEhEtC,OAAOC,KAAKsC,YAAYN,aAAY,SAASO,GAC9H1C,EAAkB0C,EAAWC,UAAUzC,OAAOC,KAAKyC,UAAUT,aAAY,SAAS/C,EAAMyD,GAAY,IAAI,IAAIhD,EAAE,EAAEA,EAAEb,EAASc,OAAOD,IAAQb,EAASa,GAAGuB,KAAKhC,IAAQJ,EAASa,GAAGc,QAAQ,IAAIH,MACzLd,OAAmBQ,OAAOC,KAAK2C,UAAUX,aAAY,SAASY,GAEY,IAA5E,IAAIxC,EAAK,IAAIrB,EAAY6D,EAAI5D,IAAI4D,EAAIT,GAAG,IAAI9B,MAAYC,GAAc,EAAcZ,EAAE,EAAEA,EAAEb,EAASc,OAAOD,IAAQb,EAASa,GAAGe,OAAOL,KAAOvB,EAASa,GAAGgB,MAAMkC,EAAIT,GAAG,IAAI9B,MAAQC,GAAc,GAAWA,GAAezB,EAASR,KAAK+B,GAAOb,OAAmBQ,OAAOC,KAAK6C,UAAUb,aAAY,SAAS/C,EAAM6D,EAAWF,GAAK/C,EAAkB+C,EAAIT,OAUrLX,SAASuB,cAAjK,CAACC,OAAO,0CAA0CC,YAAY,2CAA2CC,cAAc,kCAAuE1B,SAASC,WAAW,SAAS0B,IACtO3B,SAAS4B,OAAOC,oBAAmB,SAASC,GAAM9D,QAAQC,IAAI,iFAAiF6D,GAAM1E,EAAK0E,EAAKC,YAAYzE,EAAMwE,EAAKxE,MAAMH,EAAS2E,EAAK3E,SAASD,EAAO4E,EAAKE,IAAIC,WAAWH,EAAKI,SAASC,aAHzH,SAAoBjF,EAAOE,EAAKE,EAAMH,EAAS8E,GAAY,IAAItB,EAAGvD,EAAKgF,QAAQ,MAAM,IAAIzB,EAAGA,EAAG0B,cAAcvC,KAAKwC,MAAoB,IAAdxC,KAAKyC,UAAgBvC,SAASC,WAAWC,IAAI,SAAShD,GAAQsF,KAAK,SAAQ,SAASC,GAAsC,OAAjBA,EAASC,MAAwB1C,SAASC,WAAWC,IAAI,SAAShD,GAAQyF,OAAO,CAACxF,SAASA,IAAiB6C,SAASC,WAAWC,IAAI,SAAShD,GAAQiD,IAAI,CAAC8B,WAAWA,EAAWW,cAActF,EAAMqD,GAAGA,EAAGkC,SAASzF,EAAKD,SAASA,OAG5T2F,CAAW5F,EAAOE,EAAKE,EAAMH,EAAS8E,eAAgBrF,OAAOmG,OAAO,WAAWpB,MAIlVqB,KACA,SAAUjG,EAAQkG,EAAqBhG,GAE7C,aACAA,EAAoBiG,EAAED,GACD,IAAIE,EAAqClG,EAAoB,QACzDmG,EAA0DnG,EAAoBoG,EAAEF,GAEhFG,GADsCrG,EAAoB,QACRA,EAAoB,SACrBA,EAAoB,QACtBA,EAAoB,QACTA,EAAoB,QAEkOgG,EAA6B,QAAhU,WAA0B,OAAOG,EAA2CG,EAAEC,cAAcF,EAAiE,EAAE,KAAKF,EAA2CG,EAAEC,cAAc,SAAS,CAACC,KAAK\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{\"2du7\":function(e,t,n){n(\"pIFo\");var o,a,i,s=[],r=\"\";function c(e,t,n){this.website=this.getWebsiteFromUrl(e),this.tabID=t,this.oTime=n,this.totalTime=0}function u(){console.log(\"/////////////////////\"),console.log(\"\"),console.log(\"/////////////////////\");for(var e=0;e<s.length;e++)s[e].print()}function d(e){chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(t){for(var n=new c(t[0].url,e,new Date),o=!1,a=0;a<s.length;a++)s[a].isActive()&&s[a].clearID(new Date),s[a].equals(n)&&(s[a].setID(e,new Date),o=!0);o||s.push(n),u()}))}c.prototype.getWebsiteFromUrl=function(e){var t=e.indexOf(\"www.\"),n=4;-1==t&&(t=e.indexOf(\"://\"),n=3);var o=e.indexOf(\".\",t+n),a=\"\";return-1!=t&&-1!=o&&(a=e.substring(t+n,o)),a},c.prototype.isID=function(e){return this.tabIDs==e},c.prototype.setID=function(e,t){e&&(this.tabID=e,this.oTime=t)},c.prototype.isWebsite=function(e){return this.website==this.getWebsiteFromUrl(e)},c.prototype.clearID=function(e){this.totalTime+=Math.round((e-this.oTime)/1e3),this.oTime=-1,this.tabID=-1,\"\"!=this.website&&function(e,t,n){firebase.database().ref(\"chrome/\"+e+\"/websiteTime/\"+t).set({time:n})}(o,this.website,this.totalTime)},c.prototype.equals=function(e){return this.website==e.website},c.prototype.print=function(){console.log(this.website+\" ||\\t\"+this.tabID+\" |\\t\"+this.totalTime)},c.prototype.isActive=function(){return-1!=this.tabID},chrome.runtime.onInstalled.addListener((function(){chrome.contextMenus.create({id:\"sampleContextMenu\",title:\"Sample Context Menu\",contexts:[\"selection\"]})})),chrome.tabs.onActivated.addListener((function(e){d(e.tabId)})),chrome.tabs.onRemoved.addListener((function(e,t){for(var n=0;n<s.length;n++)s[n].isID(e)&&s[n].clearID(new Date);u()})),chrome.tabs.onCreated.addListener((function(e){for(var t=new c(e.url,e.id,new Date),n=!1,o=0;o<s.length;o++)s[o].equals(t)&&(s[o].setID(e.id,new Date),n=!0);n||s.push(t),u()})),chrome.tabs.onUpdated.addListener((function(e,t,n){d(n.id)}));firebase.initializeApp({apiKey:\"AIzaSyAXLZRCJb7YTB-l6yqJAGZGOaIn9zSDPJQ\",databaseURL:\"https://reflect-me-mhacks.firebaseio.com\",storageBucket:\"reflect-me-mhacks.appspot.com\"});firebase.database();function l(){firebase.auth().onAuthStateChanged((function(e){console.log(\"User state change detected from the Background script of the Chrome Extension:\",e),i=e.displayName,r=e.email,a=e.photoURL,o=e.uid,created_at=e.metadata.creationTime,function(e,t,n,o,a){var i=t.replace(/ .*/,\"\");i=i.toLowerCase()+Math.floor(9e4*Math.random()),firebase.database().ref(\"users/\"+e).once(\"value\",(function(s){null!==s.val()?firebase.database().ref(\"users/\"+e).update({photoURL:o}):firebase.database().ref(\"users/\"+e).set({created_at:a,email_address:n,id:i,username:t,photoURL:o})}))}(o,i,r,a,created_at)}))}window.onload=function(){l()}},k34F:function(e,t,n){\"use strict\";n.r(t);var o=n(\"q1tI\"),a=n.n(o),i=(n(\"Wbzz\"),n(\"Bl7J\"));n(\"tBDR\"),n(\"vrFN\"),n(\"2du7\");t.default=function(){return a.a.createElement(i.a,null,a.a.createElement(\"script\",{href:\"./background4.js\"}))}}}]);","extractedComments":[]}